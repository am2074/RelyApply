<% content_for :title do %>
 Edit Profile | RelyApply
<% end %>

<% if current_user.provider =="facebook" %>
  <div class="container" id=loginContainer>
    <div class="d-flex justify-content-center h-100" >
      <div class="card" id="editAccountCard">
        <div class="card-header">
          <h2 style="color:white;"><strong>Edit Account</strong></h2>
          <small style="color:white">You agree to our <%= link_to 'Terms of Use', tos_path %> and <%= link_to 'Privacy Policy', privacy_path %> when you edit your account settings</small>
        </div>
        <div class="card-body" style="text-align: left;">
          <p> Since your account was created and logged in with a third-party provider (i.e. Facebook and Google), account settings cannot be changed here on RelyApply.com. To edit your account settings please edit them at their respective third party sources. You can still delete your account. </p>
          <div class="card-footer" style="text-align: center;">
            <h3>Want to close your account?<br /></h3>
                <%= button_to "Close My Account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete,  class: "btn btn-danger", style: "display:inline;"%>
          </div>
        </div> 
        </div><!-- div class="d-flex justify-content-center h-100" -->
      </div> <!--div class="container" id=loginContainer -->
    </div>
  </div>
<% elsif current_user.provider =="google_oauth2" %>
  <div class="container" id=loginContainer>
      <div class="d-flex justify-content-center h-100" >
        <div class="card" id="editAccountCard">
          <div class="card-header">
            <h2 style="color:white;"><strong>Edit Account</strong></h2>
            <small style="color:white">You agree to our <%= link_to 'Terms of Use', tos_path %> and <%= link_to 'Privacy Policy', privacy_path %> when you edit your account settings</small>
          </div>
          <div class="card-body" style="text-align: left;">
            <p> Since your account was created and logged in with a third-party provider (i.e. Facebook and Google), account settings cannot be changed here on RelyApply.com. To edit your account settings please edit them at their respective third party sources. You can still delete your account. </p>
            <div class="card-footer" style="text-align: center;">
              <h3>Want to close your account?<br /></h3>
                <%= button_to "Close My Account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete,  class: "btn btn-danger", style: "display:inline;"%>
            </div>
      </div> 
      </div><!-- div class="d-flex justify-content-center h-100" -->
    </div> <!--div class="container" id=loginContainer -->
  </div>
  </div>
<% else %>
  <div class="container" id=loginContainer>
    <div class="d-flex justify-content-center h-100" >
      <div class="card" id="editAccountCard">
        <div class="card-header">
          <h2 style="color:white;"><strong>Edit Account</strong></h2>
          <small style="color:white">You agree to our <%= link_to 'Terms of Use', tos_path %> and <%= link_to 'Privacy Policy', privacy_path %> when you edit your account settings</small>
        </div>
        <div class="card-body">
          <%= form_for(resource, as: resource_name, url: registration_path(resource_name), html: { method: :put }) do |f| %>
            <%= devise_error_messages! %>
            <div class="form-group-lg" id="formGroupFont">
              <h4><%= f.label :email %></h4>
              <%= f.email_field :email, autofocus: true, autocomplete: "email", class: "form-control" %>
            </div>
            <br />
            <% if devise_mapping.confirmable? && resource.pending_reconfirmation? %>
              <div>Currently waiting confirmation for: <%= resource.unconfirmed_email %></div>
            <% end %>
            <div class="form-group-lg" id="formGroupFont">
              <h4><%= f.label :password, 'New Password' %> <i><small>(6 characters minimum. Leave blank if you don't want to change it)</small></i></h4>
              <%= f.password_field :password, autocomplete: "new-password", class: "form-control" %>
            </div>
            <br />
            <div class="form-group-lg" id="formGroupFont">
              <h4><%= f.label :password_confirmation, 'Please Re-Enter New Password' %></h4>
              <%= f.password_field :password_confirmation, autocomplete: "new-password", class: "form-control" %>
            </div>
            <br />
            <div class="form-group-lg" id="formGroupFont">
              <h4><%= f.label :current_password %> <i><small>(Please enter your current password to confirm your new changes)</small></i></h4>
              <%= f.password_field :current_password, autocomplete: "current-password", class: "form-control" %>
            </div>
            <br />
            <div class="form-group" style="text-align: center;">
              <%= f.submit "Update", class: "btn btn-lg btn-primary"  %>
            </div>
          <% end %>
          <div class="card-footer" style="text-align: left;">
            <p>Want to close your account?
              <%= button_to "Close My Account", registration_path(resource_name), data: { confirm: "Are you sure?" }, method: :delete,  class: "btn btn-danger", style: "display:inline;"%>
            </p>
          </div>
      </div> 
    </div><!-- div class="d-flex justify-content-center h-100" -->
  </div> <!--div class="container" id=loginContainer -->
<% end %>
<br>